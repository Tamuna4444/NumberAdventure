<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
   <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Ğ£Ğ³Ğ°Ğ´Ğ°Ğ¹ Ñ‡Ğ¸ÑĞ»Ğ¾</title>
<link rel="stylesheet" href="style.css?v=6">
<link rel="stylesheet" href="style-level.css?v=6">


</head>

<body class="home menu">
<div id="app" class="portrait-only">
 <div class="game-window">

  <!-- BACK BUTTON INSIDE THE GAME WINDOW -->
  <button id="backBtn" class="back-btn" aria-label="Back">â†</button>
   
      
      
<!-- MAIN PAGE (Home Screen) -->
<div id="mainHomeScreen">
  
  
  <h1 data-i18n="gameName">Ğ£Ğ³Ğ°Ğ´Ğ°Ğ¹ Ñ‡Ğ¸ÑĞ»Ğ¾</h1>
  <button id="homeStartBtn" onclick="enterGame()" data-i18n="start">Start</button>

  <!-- âš™ï¸ Settings áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ›áƒ—áƒáƒ•áƒáƒ  áƒ’áƒ•áƒ”áƒ áƒ“áƒ–áƒ” -->
  <div id="homeSettings">
    <button id="homeSettingsBtn">âš™ï¸</button>
    <div id="homeSettingsPanel" class="hidden">
      <div class="row">
        <span></span>
        <button id="homeToggleSound">ğŸ”Š</button>
      </div>
      <div class="row">
        
        <div class="langs">
          <button class="homeLang" data-lang="en">ENG</button>
          <button class="homeLang" data-lang="ru">RUS</button>
        </div>
      </div>
    </div>
  </div>
</div>
      <!-- START SCREEN -->
      <div id="startScreen" class="stack">
       
        <p data-i18n="welcome">Welcome to the Adventure!</p>

        <div id="devTools">
          <button class="levelBtn" data-level="1" onclick="jumpToLevel(1)">Level 1</button>
          <button class="levelBtn" data-level="2" onclick="jumpToLevel(2)">Level 2</button>
          <button class="levelBtn" data-level="3" onclick="jumpToLevel(3)">Level 3</button>
        </div>
      </div>

      <!-- GAME CONTAINERS (áƒ£áƒ“áƒ”áƒœáƒ) -->
            <!-- ğŸ® GAME CONTAINERS -->
      <div id="gameContainer" style="display:none; background:url('image/one.gif') center/cover no-repeat;">
        <div class="level-window">
          <h1 data-i18n="gameTitle">Guess the Number!</h1>
          <h1 id="levelTitle" data-i18n="levelTitle">Level 1: The Beginning</h1>
          <h4 id="levelStory" data-i18n="levelStory"></h4>

          <input type="tel" id="guessInput" autocomplete="off">
          <br>
          <button id="gameButton" onclick="checkGuess()" data-i18n="check">Check</button>

          <p id="message"></p>
          <div id="lives">ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤</div>
          <p id="timer"><span data-i18n="timerLabel">â±ï¸</span> <span id="timeValue">50s</span></p>
          <p id="score"><span data-i18n="scoreLabel">ğŸ†</span> <span id="scoreValue">0</span></p>
  

        </div>
      </div>

      <div id="level5Container" style="display:none; background:url('image/four.gif') center/cover no-repeat;">
  <div class="level-window">
    <h2 data-i18n="level5Title">Level 2: Follow the Intuition</h2>
    <h3 data-i18n="level5Subtitle">Choose the number you feel is correct</h3>

    <div id="numberOptions"></div>
    <p id="level5Message"></p>

    <!-- NEW: HUD wrapper -->
    <div id="level5Hud">
      <div id="level5Lives">â¤ï¸â¤ï¸â¤ï¸</div>
      <div id="level5Time">â° 30s</div>
      <div id="level5ScoreValue">
        <span data-i18n="levelScoreLabel">ğŸ†</span> <span id="level5ScoreNum">0</span>
      </div>
    </div>
    <!-- /HUD -->
    

  </div>
</div>

      <div id="level6Container" style="display:none; background:url('image/five.gif') center/cover no-repeat;">
        <div class="level-window">
          <h2 id="level6Title" data-i18n="level6Title">Level 3: Hidden Choice</h2>
          <h3 id="level6Story" data-i18n="level6Story">Find the Hidden Number</h3>
         
          <div id="level6Boxes"></div>
          <p id="level6Message"></p>
          <div id="level6Lives"></div>
          <div id="level6Time">â±ï¸</div>
          <div id="level6ScoreValue" style="display:none;">
            <span data-i18n="levelScoreLabel">ğŸ†</span>
            <span id="level6ScoreNum">0</span>
          </div>

        </div>
      </div>

      <!-- SUMMARY -->
      <div id="summaryModal" class="modal">
        <div class="modal-content">
          <h2 data-i18n="finalResultsTitle" style="margin:0 0 8px 0;">ğŸ’¥Final ResultsğŸ’¥</h2>
          <div id="rankWrap" style="display:flex;align-items:center;gap:10px;margin:6px 0 5px;">
            <div id="rankBadge" style="font-size:40px;line-height:1;"></div>
            <div>
              <div id="rankTitle" style="font-weight:700;font-size:20px;">â€”</div>
              <div id="rankDesc" style="opacity:.9;">â€”</div>
            </div>
          </div>
          <div id="scoresWrap" style="margin:10px 0;">
            <p id="level1Score">Level 1â€“4: 0 pts</p>
            <p id="level5Score">Level 2: 0 pts</p>
            <p id="level6FinalScore">Level 3: 0 pts</p>
            <hr/>
            <p id="totalScore" style="font-weight:700;">Total: 0 pts</p>
            
          </div>
          <div class="modal-actions" style="display:flex;gap:5px;flex-wrap:wrap;justify-content:center;">
          
            <button id="restartLevelBtn" class="btn btn-primary">Restart Level</button>
            <button id="restartGameBtn" class="btn btn-primary">Restart Game</button>
            <button id="summaryMainMenuBtn" class="btn btn-secondary">Main Menu</button>
          </div>
           
            <p id="createdByTamo">ê§á¬Šá¬TGá¬Šá­„ê§‚</p>
        </div>
      </div>

    </div> <!-- /window-body -->
  </div>   <!-- /game-window -->
  </div>
  <div id="rotateOverlay" aria-hidden="true">
  <div class="card" data-i18n="rotateMessage">

  </div>
</div>
 
 <!-- áƒ©áƒáƒ¡áƒ•áƒ˜ SDK áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜ (defer), áƒ›áƒ”áƒ áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒáƒáƒ˜áƒ¡ áƒ¡áƒ™áƒ áƒ˜áƒáƒ¢áƒ˜ (defer) -->
<script src="https://yandex.ru/games/sdk/v2" defer></script>
<script src="script.js?v=6" defer></script>
<script>
/* === MOBILE UX FIX PACK === */
(function () {
  const isTouch = ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);

  // 4.1 iOS tap highlight off + áƒ áƒ”áƒŸáƒ˜áƒ›áƒ”áƒ‘áƒ˜
  const style = document.createElement('style');
  style.textContent = `
    * { -webkit-tap-highlight-color: rgba(0,0,0,0); }
    html, body { overscroll-behavior: none; }
    #startScreen, #gameContainer, #level5Container, #level6Container, #summaryModal {
      -webkit-user-select: none !important; user-select: none !important;
      -webkit-touch-callout: none !important; touch-action: manipulation !important;
    }
    /* input/textarea-áƒ¨áƒ˜ áƒœáƒ”áƒ‘áƒáƒ“áƒáƒ áƒ—áƒ£áƒšáƒ˜áƒ áƒáƒ áƒ©áƒ”áƒ•áƒ */
    #startScreen input, #gameContainer input, #level5Container input, #level6Container input, #summaryModal input,
    #startScreen textarea, #gameContainer textarea, #level5Container textarea, #level6Container textarea, #summaryModal textarea {
      -webkit-user-select: text !important; user-select: text !important;
      -webkit-touch-callout: default !important;
    }
  `;
  document.head.appendChild(style);

  // 4.2 áƒáƒ™áƒ áƒ«áƒáƒšáƒ” áƒ™áƒáƒœáƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ£áƒ áƒ˜ áƒ›áƒ”áƒœáƒ˜áƒ£ áƒ“áƒ selectstart áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ—áƒáƒ›áƒáƒ¨áƒ˜áƒ¡ áƒ•áƒ˜áƒ£áƒ”áƒ‘áƒ¨áƒ˜ (áƒáƒ áƒ áƒ˜áƒœáƒáƒ£áƒ¢áƒ”áƒ‘áƒ¨áƒ˜)
  const blockEvents = ['contextmenu', 'selectstart', 'dragstart'];
  blockEvents.forEach(type => {
    document.addEventListener(type, (e) => {
      if (e.target.closest('input, textarea, [contenteditable="true"]')) return;
      e.preventDefault();
    }, { capture: true });
  });

  // 4.3 images/links/video áƒáƒ  áƒ’áƒáƒ“áƒáƒ˜áƒ—áƒ áƒ˜áƒáƒ¡
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('img, a, video').forEach(el => {
      el.setAttribute('draggable', 'false');
      el.style.webkitUserDrag = 'none';
      el.style.userDrag = 'none';
    });
  });

  // 4.4 Touch â†’ Click shim (áƒ¦áƒ˜áƒšáƒáƒ™áƒ”áƒ‘áƒ–áƒ” áƒ›áƒ§áƒ˜áƒ¡áƒ˜áƒ”áƒ áƒ˜ áƒ áƒ”áƒáƒ’áƒ˜áƒ áƒ”áƒ‘áƒ)
  if (isTouch) {
    document.body.setAttribute('ontouchstart', ''); // iOS :active áƒ’áƒáƒáƒ¥áƒ¢áƒ˜áƒ£áƒ áƒ“áƒ”áƒ¡

    document.addEventListener('touchend', (e) => {
      // áƒ˜áƒœáƒáƒ£áƒ¢áƒ”áƒ‘áƒ¨áƒ˜/áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ£áƒ áƒ”áƒ‘áƒ¨áƒ˜ áƒœáƒ£ áƒ©áƒáƒ•áƒ”áƒ áƒ”áƒ•áƒ˜áƒ—
      if (e.target.closest('input, textarea, [contenteditable="true"]')) return;

      // áƒ“áƒáƒ£áƒ¨áƒ•áƒ˜ áƒ¦áƒ˜áƒšáƒáƒ™áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒšáƒ˜áƒœáƒ™áƒ”áƒ‘áƒ˜
     const tappable = e.target.closest(
  'button, [role="button"], a[href], .option-btn, #gameButton, \
   #startBtn, #level6StartBtn, #homeStartBtn, #homeSettingsBtn, \
   #homeSettingsPanel button, .homeLang, #homeToggleSound'
);
      if (!tappable) return;
      if (tappable.disabled) return;

      tappable.click();
      e.preventDefault(); // áƒ’áƒáƒ•áƒáƒ£áƒ¥áƒ›áƒáƒ— áƒ‘áƒ áƒáƒ£áƒ–áƒ”áƒ áƒ˜áƒ¡ áƒœáƒáƒ’áƒ£áƒšáƒ˜áƒ¡áƒ®áƒ›áƒ”áƒ•áƒ˜ â€delay/ghostâ€œ
    }, { passive: false });
  }
})();
</script>

</body>




</html>